(()=>{"use strict";function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(){k=function(){return i};var i={},t=Object.prototype,u=t.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o,a,i,c,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),n=new _(n||[]);return s(e,"_invoke",{value:(o=t,a=r,i=n,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return L()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;n=l(o,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,f;o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}(r,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===c)throw c="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c="executing";r=l(o,a,i);if("normal"===r.type){if(c=i.done?"completed":"suspendedYield",r.arg===f)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(c="completed",i.method="throw",i.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f={};function d(){}function h(){}function p(){}var e={},m=(a(e,n,function(){return this}),Object.getPrototypeOf),m=m&&m(m(x([]))),v=(m&&m!==t&&u.call(m,n)&&(e=m),p.prototype=d.prototype=Object.create(e));function g(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function y(i,c){var e;s(this,"_invoke",{value:function(r,n){function t(){return new c(function(t,e){!function e(t,r,n,o){var a,t=l(i[t],i,r);if("throw"!==t.type)return(r=(a=t.arg).value)&&"object"==E(r)&&u.call(r,"__await")?c.resolve(r.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):c.resolve(r).then(function(t){a.value=t,n(a)},function(t){return e("throw",t,n,o)});o(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(e){if(e){var r,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(u.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:L}}function L(){return{value:void 0,done:!0}}return s(v,"constructor",{value:h.prototype=p,configurable:!0}),s(p,"constructor",{value:h,configurable:!0}),h.displayName=a(p,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},i.awrap=function(t){return{__await:t}},g(y.prototype),a(y.prototype,r,function(){return this}),i.AsyncIterator=y,i.async=function(t,e,r,n,o){void 0===o&&(o=Promise);var a=new y(c(t,e,r,n),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(v),a(v,o,"Generator"),a(v,n,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return a.type="throw",a.arg=r,n.next=t,e&&(n.method="next",n.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),b(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},i}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function w(){return t.apply(this,arguments)}function t(){var c;return c=k().mark(function t(e){var r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(window._tutorobject.ajaxurl,{method:"POST",body:e});case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),tutor_toast(__("Operation failed","tutor"),t.t0,"error");case 10:case"end":return t.stop()}},t,null,[[0,7]])}),(t=function(){var t=this,i=arguments;return new Promise(function(e,r){var n=c.apply(t,i);function o(t){u(n,e,r,o,a,"next",t)}function a(t){u(n,e,r,o,a,"throw",t)}o(void 0)})}).apply(this,arguments)}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(){j=function(){return i};var i={},t=Object.prototype,u=t.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o,a,i,c,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),n=new _(n||[]);return s(e,"_invoke",{value:(o=t,a=r,i=n,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return L()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;n=l(o,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,f;o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}(r,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===c)throw c="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c="executing";r=l(o,a,i);if("normal"===r.type){if(c=i.done?"completed":"suspendedYield",r.arg===f)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(c="completed",i.method="throw",i.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f={};function d(){}function h(){}function p(){}var e={},m=(a(e,n,function(){return this}),Object.getPrototypeOf),m=m&&m(m(x([]))),v=(m&&m!==t&&u.call(m,n)&&(e=m),p.prototype=d.prototype=Object.create(e));function g(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function y(i,c){var e;s(this,"_invoke",{value:function(r,n){function t(){return new c(function(t,e){!function e(t,r,n,o){var a,t=l(i[t],i,r);if("throw"!==t.type)return(r=(a=t.arg).value)&&"object"==S(r)&&u.call(r,"__await")?c.resolve(r.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):c.resolve(r).then(function(t){a.value=t,n(a)},function(t){return e("throw",t,n,o)});o(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(e){if(e){var r,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(u.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:L}}function L(){return{value:void 0,done:!0}}return s(v,"constructor",{value:h.prototype=p,configurable:!0}),s(p,"constructor",{value:h,configurable:!0}),h.displayName=a(p,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},i.awrap=function(t){return{__await:t}},g(y.prototype),a(y.prototype,r,function(){return this}),i.AsyncIterator=y,i.async=function(t,e,r,n,o){void 0===o&&(o=Promise);var a=new y(c(t,e,r,n),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(v),a(v,o,"Generator"),a(v,n,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return a.type="throw",a.arg=r,n.next=t,e&&(n.method="next",n.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),b(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},i}function s(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function b(c){return function(){var t=this,i=arguments;return new Promise(function(e,r){var n=c.apply(t,i);function o(t){s(n,e,r,o,a,"next",t)}function a(t){s(n,e,r,o,a,"throw",t)}o(void 0)})}}var _=wp.i18n.__;window.jQuery(document).ready(function(p){var t=document.getElementById("tutor-google-meet-meta-box-wrapper"),u=document.getElementById("tutor-common-confirmation-modal"),m=_("Something went wrong, please refresh the page & try again!","tutor-pro"),e=document.getElementById("tutor-course-content-builder-root"),r="tutor-gm-create-new-meeting",n="tutor-gm-update-meeting";function o(t){var e=t.dataset.eventId,r=t.dataset.meetingPostId,t=t.dataset.itemReference;u.querySelector("[name=id]").value=r,u.querySelector("[name=event-id]").value=e,u.querySelector("[name=item-reference]").value=t}function a(){i.apply(this,arguments)}function i(){return(i=b(j().mark(function t(e){var r,n,o,a,i,c,u,s,l,f,d,h=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=1<h.length&&void 0!==h[1]?h[1]:[],r=e.closest(".tutor-modal"),n=r.getAttribute("id"),o=r.querySelectorAll("[name]"),a=new FormData,i=[],o.forEach(function(t){""===t.value&&"attendees"!==t.name&&i.push(_("".concat(t.name," is required"),"tutor-pro")),"attendees"===t.name?a.set(t.name,""===t.value?"Yes":t.value):a.set(t.name,t.value)}),a.set("action","tutor_google_meet_new_meeting"),c.forEach(function(t){a.set(t.name,t.value)}),e.classList.add("is-loading"),e.setAttribute("disabled",!0),i.length)return i.forEach(function(t){tutor_toast(_("Validation Error","tutor-pro"),_((t=t.replace(/_/g," ")).substr(0,1).toUpperCase()+t.substr(1)),"warning")}),e.removeAttribute("disabled"),e.classList.remove("is-loading"),t.abrupt("return");t.next=16;break;case 16:return t.next=18,w(a);case 18:if((c=t.sent).ok)return t.next=22,c.json();t.next=50;break;case 22:(u=t.sent).success?(s=document.querySelector(u.data.selector),l=["_tutor_nonce","_wp_http_referer","action","course_id","meeting_timezone","meeting_recording"],"tutor-google-meet-create-modal"===n||r.classList.contains("tutor-gm-topic-create-modal")?(o.forEach(function(t){"meeting_attendees_enroll_students"===t.name?document.getElementById(t.id).checked=!0:l.includes(t.name)||(console.log(t.name),t.value="")}),s.insertAdjacentHTML("afterbegin",u.data.content),tutor_toast(_("Success","tutor-pro"),_("Google meet created successfully","tutor-pro"),"success"),p(".tutor-google-meet-timepicker").timepicker({timeFormat:"hh:mm TT",beforeShow:function(t,e){v(t,e)}}),t.next=38):t.next=33):t.next=44;break;case 33:if(tutor_toast(_("Success","tutor-pro"),_("Google meet updated successfully","tutor-pro"),"success"),"google-meet"===_tutorobject.current_page)return window.location.reload(),t.abrupt("return");t.next=37;break;case 37:s.innerHTML=u.data.content;case 38:r.querySelector(".tutor-gmi-meeting-time").innerHTML=u.data.date_time_markup,r.classList.remove("tutor-is-active"),p("body").removeClass("tutor-modal-open"),window.dispatchEvent(new Event(_tutorobject.content_change_event)),t.next=48;break;case 44:f=u.data,d="",d=u.data.type&&JSON.parse(f.error).error.message||f,tutor_toast(_("Failed","tutor-pro"),d||m,"warning");case 48:t.next=51;break;case 50:tutor_toast(_("Failed","tutor-pro"),_("Something went wrong, please try again!","tutor-pro"),"warning");case 51:e.classList.remove("is-loading"),e.removeAttribute("disabled");case 53:case"end":return t.stop()}},t)}))).apply(this,arguments)}function v(e,r){var n=e.getBoundingClientRect();setTimeout(function(){var t=p("body").scrollTop();r.dpDiv.css({top:n.top+e.offsetHeight+t})},0)}function c(){p(".tutor-google-meet-timepicker").timepicker({timeFormat:"hh:mm TT",beforeShow:function(t,e){v(t,e)}})}t&&(t.onclick=function(t){var e=t.target;if(e.classList.contains("tutor-google-meet-list-delete")&&(t.preventDefault(),o(e)),e.classList.contains("tutor-gm-delete")&&(t.preventDefault(),o(e=e.closest("a.tutor-google-meet-list-delete"))),e.classList.contains(r)||e.classList.contains(n)){t.preventDefault();try{a(e)}catch(t){tutor_toast(_("Failed","tutor-pro"),_(m),"warning")}}e.hasAttribute("type")&&"checkbox"===e.getAttribute("type")&&(e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked","checked"))},p(document.body).on("change",'#tutor-google-meet-meta-box-wrapper input[type="checkbox"]',function(){p(this).is(":checked")?p(this).closest(".tutor-modal").find("input[name=attendees]").val("Yes"):p(this).closest(".tutor-modal").find("input[name=attendees]").val("No")})),e&&(e.onclick=function(t){var e=t.target;if(e.classList.contains("tutor-google-meet-list-delete")&&(t.preventDefault(),o(e)),e.classList.contains(r)||e.classList.contains(n)){t.preventDefault();try{a(e)}catch(t){tutor_toast(_("Failed","tutor-pro"),_(m),"warning")}}},p(document.body).on("change",'#tutor-course-content-builder-root input[type="checkbox"]',function(){p(this).is(":checked")?p(this).closest(".tutor-modal").find("input[name=attendees]").val("Yes"):p(this).closest(".tutor-modal").find("input[name=attendees]").val("No")})),u&&(u.querySelector("button[data-tutor-modal-submit]").onclick=function(){var e=b(j().mark(function t(e){var r,n,o,a,i,c;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=e.target,o=new FormData,n=u.querySelector("[name=item-reference]").value,o.set("event-id",u.querySelector("[name=event-id]").value),o.set("post-id",u.querySelector("[name=id]").value),o.set("action","tutor_google_meet_delete"),o.set(window.tutor_get_nonce_data(!0).key,window.tutor_get_nonce_data(!0).value),r.setAttribute("disabled",!0),r.classList.add("is-loading"),t.next=12,w(o);case 12:if((o=t.sent).ok)return t.next=16,o.json();t.next=25;break;case 16:(a=t.sent).success?(tutor_toast(_("Success","tutor-pro"),a.data,"success"),document.getElementById(n).remove()):(i=a.data,c="",c=a.data.exception&&JSON.parse(i.error).error.message||i,tutor_toast(_("Failed","tutor-pro"),c||m,"warning")),r.classList.remove("is-loading"),r.removeAttribute("disabled"),u.classList.remove("tutor-is-active"),p("body").removeClass("tutor-modal-open"),window.dispatchEvent(new Event(_tutorobject.content_change_event)),t.next=28;break;case 25:tutor_toast(_("Error","tutor-pro"),_("Something went wrong, please try after refreshing page","tutor-pro"),"error"),r.classList.remove("is-loading"),r.removeAttribute("disabled");case 28:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()),c(),window.addEventListener(_tutorobject.content_change_event,c);var t=document.querySelectorAll(".tutor-google-meet-credential-form .drag-drop-zone input[type=file]"),s=(0<t.length&&t.forEach(function(e){var r=e.closest(".drag-drop-zone");["dragover","dragleave","dragend"].forEach(function(t){"dragover"===t?r.addEventListener(t,function(t){t.preventDefault(),r.classList.add("dragover")}):r.addEventListener(t,function(t){r.classList.remove("dragover")})}),r.addEventListener("drop",function(t){t.preventDefault();t=t.dataTransfer.files;s(t,e,r),r.classList.remove("dragover")}),e.addEventListener("change",function(t){t=t.target.files;s(t,e,r)})}),function(t,e,r){t.length?(e.files=t,r.classList.add("file-attached"),r.querySelector(".file-info").innerHTML="<strong>File attached</strong> - ".concat(t[0].name)):(r.classList.remove("file-attached"),r.querySelector(".file-info").innerHTML="")}),l=document.getElementById("tutor-google-meet-credential-upload"),f=document.getElementById("tutor-google-meet-choose-label"),e=document.querySelector(".tutor-google-meet-credential-form .drag-drop-zone");function d(){h.apply(this,arguments)}function h(){return(h=b(j().mark(function t(e){var r,n,o;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new FormData,r=document.querySelector(".file-info"),n.set("file",e),n.set("action","tutor_pro_google_meet_credential_upload"),n.set(window.tutor_get_nonce_data(!0).key,window.tutor_get_nonce_data(!0).value),t.prev=5,"application/json"===e.type)return f.classList.add("is-loading"),t.next=10,w(n);t.next=19;break;case 10:if((n=t.sent).ok)return t.next=14,n.json();t.next=17;break;case 14:(o=t.sent).success?(tutor_toast(_("Success","tutor-pro"),_(o.data,"tutor-pro"),"success"),window.location.reload()):tutor_toast(_("Error","tutor-pro"),_(o.data,"tutor-pro"),"warning"),f.classList.remove("is-loading");case 17:t.next=23;break;case 19:f.classList.remove("is-loading"),tutor_toast(_("Error","tutor-pro"),_("Invalid file type!","tutor-pro"),"warning"),l.value="",r&&(r.innerHTML="");case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(5),tutor_toast(_("Error","tutor-pro"),_("Something went wrong, please try again!","tutor-pro"),"warning");case 28:case"end":return t.stop()}},t,null,[[5,25]])}))).apply(this,arguments)}f&&(f.onclick=function(t){l.click()}),l&&(l.onchange=function(t){d(t.target.files[0])}),e&&e.addEventListener("drop",function(t){t.preventDefault(),d(t.dataTransfer.files[0])});var g=document.getElementById("tutor-google-meet-settings"),y=(g&&(g.onchange=function(){var e=b(j().mark(function t(e){var r,n,o,a,i;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!1,(n=e.target).hasAttribute("type")&&"search"===n.getAttribute("type"))return t.abrupt("return");t.next=4;break;case 4:if(n.hasAttribute("data-value"))if(r=!0,o=e.target.dataset.value,i=n.value,o===i)return t.abrupt("return");t.next=10;break;case 10:return o=new FormData(g),t.prev=11,t.next=14,w(o);case 14:if((a=t.sent).ok)return t.next=18,a.json();t.next=22;break;case 18:(i=t.sent).success?(tutor_toast(_("Success","tutor-pro"),_(i.data),"success"),r&&n.setAttribute("data-value",n.value)):tutor_toast(_("Failed","tutor-pro"),_(i.data),"error"),t.next=23;break;case 22:tutor_toast(_("Error","tutor-pro"),_(a.statusText),"error");case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(11),tutor_toast(_("Error","tutor-pro"),_(m,"tutor-pro"),"error");case 28:case"end":return t.stop()}},t,null,[[11,25]])}));return function(t){return e.apply(this,arguments)}}()),document.getElementById("tutor-meet-confirmation-form"));y&&(y.onsubmit=function(){var e=b(j().mark(function t(e){var r,n,o,a;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=new FormData(y),(r=y.querySelector("[data-tutor-modal-submit]")).classList.add("is-loading"),r.setAttribute("disabled",!0),t.prev=5,t.next=8,w(n);case 8:return n=t.sent,t.next=11,n.json();case 11:a=t.sent,o=a.success,a=a.data,o?(tutor_toast(_("Success","tutor-pro"),a,"success"),location.reload()):tutor_toast(_("Failed","tutor-pro"),a,"error"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),tutor_toast(_("Failed","tutor-pro"),_("Something went wrong, please try again","tutor-pro"),"error");case 19:return t.prev=19,r.classList.remove("is-loading"),r.removeAttribute("disabled"),t.finish(19);case 23:case"end":return t.stop()}},t,null,[[5,16,19,23]])}));return function(t){return e.apply(this,arguments)}}())})})();